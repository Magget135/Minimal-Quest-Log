/* Black & White minimalist theme */
:root { color-scheme: light; }
html, body, #root { height: 100%; background: #ffffff; color: #111111; }
.App { min-height: 100vh; }

/* App shell like Google Calendar */
.app-shell { display:grid; grid-template-columns: 320px 1fr; gap:16px; max-width: 1400px; margin: 0 auto; padding: 16px 24px; }
.sidebar { position: sticky; top:60px; align-self:start; height: calc(100vh - 80px); overflow:auto; padding-bottom:24px; }
.main-pane { min-height: 70vh; }

/* Layout & common */
.container { max-width: 1100px; margin: 0 auto; padding: 24px; }
.navbar { border-bottom: 1px solid #e5e5e5; background: #fff; position: sticky; top: 0; z-index: 10; }
.nav-brand { font-weight: 700; letter-spacing: -0.02em; }
.nav-items { display: flex; gap: 8px; }
.nav-item { padding: 8px 12px; border-radius: 12px; border: 1px solid #e5e5e5; background: #fff; color: #111; text-decoration: none; transition: transform .15s ease, box-shadow .15s ease; }
.nav-item:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.08); }
.nav-item-active { border-color: #111; }
.nav-item-inactive { opacity: .8; }

.badge { display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; border:1px solid #e5e5e5; background:#fff; }
.card { border: 1px solid #e5e5e5; border-radius: 16px; background: #fff; padding: 16px; transition: transform .15s ease, box-shadow .15s ease; }
.card:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.08); }
.btn { border-radius: 12px; border: 1px solid #111; background: #111; color:#fff; padding:8px 14px; cursor:pointer; }
.btn.secondary { background:#fff; color:#111; border-color:#e5e5e5; }
.btn:disabled { opacity:.5; cursor:not-allowed; }
.input, select, textarea { border:1px solid #e5e5e5; border-radius: 12px; padding: 8px 10px; }
.table { width:100%; border-collapse: separate; border-spacing: 0; }
.table th, .table td { text-align:left; padding: 10px 8px; border-bottom:1px solid #f0f0f0; }
.row { display:flex; gap: 12px; align-items:center; }
.col { flex:1; }
.small { font-size: 12px; color:#444; }
.kicker { color:#666; font-size:12px; }

/* Mini Month Calendar (sidebar) */
.mini-month { border:1px solid #ececec; border-radius: 16px; overflow:hidden; background:#fff; }
.mini-header { display:flex; justify-content: space-between; align-items:center; padding:8px 10px; border-bottom:1px solid #f1f1f1; font-size:12px; font-weight:600; }
.mini-grid { display:grid; grid-template-columns: repeat(7, 1fr); }
.mini-cell { padding:6px 4px; text-align:center; font-size:11px; color:#555; cursor:pointer; }
.mini-cell.other { color:#bbb; }
.mini-cell .dot-today { display:inline-block; width:6px; height:6px; border-radius:999px; background:#111; margin-left:4px; }
.mini-cell.selected { background:#111; color:#fff; border-radius:8px; }
.mini-dow { font-size:10px; color:#777; padding:4px 0; text-transform:uppercase; border-bottom:1px solid #f5f5f5; }

/* Due-date dots */
.dot { width:10px; height:10px; border-radius:999px; display:inline-block; }
.dot.red { background:#ef4444; }
.dot.blue { background:#3b82f6; }
.dot.green { background:#22c55e; }

/* Minimal Calendar */
.calendar, .time-calendar { border:1px solid #ececec; border-radius:16px; overflow:hidden; background:#fff; }
.calendar-header, .time-header { display:flex; justify-content: space-between; align-items:center; padding:10px 14px; border-bottom:1px solid #f1f1f1; }
.header-left { display:flex; align-items:center; gap:8px; font-weight:600; }
.header-right { display:flex; align-items:center; gap:8px; }
.header-title { font-size:14px; color:#222; letter-spacing: .2px; }

.calendar-controls { display:flex; gap:8px; align-items:center; }
.calendar-grid { display:grid; }
.calendar-grid.week { grid-template-columns: repeat(7, 1fr); }
.calendar-grid.month { grid-template-columns: repeat(7, 1fr); }
.calendar-grid.day { grid-template-columns: 1fr; }
.calendar-cell { min-height: 110px; border-right:1px solid #f6f6f6; border-bottom:1px solid #f6f6f6; padding:8px; position:relative; }
.calendar-cell:last-child { border-right:none; }
.calendar-day-number { position:absolute; top:6px; right:8px; font-size:11px; color:#777; }
.calendar-tasks { display:flex; flex-direction:column; gap:6px; margin-top: 18px; }
.task-chip { border:1px solid #e9e9e9; border-radius:999px; padding:4px 8px; background:#fff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; cursor:pointer; }

/* Month/Week headers */
.month-headers { display:grid; grid-template-columns: repeat(7, 1fr); border-bottom:1px solid #f1f1f1; background:#fff; }
.month-head-cell { padding:8px; text-align:center; font-size:11px; color:#666; border-right:1px solid #f7f7f7; text-transform: uppercase; letter-spacing:.3px; }
.month-head-cell:last-child { border-right:none; }

/* Scrollable list under calendar */
.list-scroll { max-height: 360px; overflow-y: auto; }

/* Modal */
.modal-backdrop { position:fixed; inset:0; background: rgba(0,0,0,0.15); display:flex; align-items:center; justify-content:center; }
.modal { width: 540px; max-width: 95vw; background:#fff; border:1px solid #e5e5e5; border-radius:16px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,0.12); }
.modal-header { display:flex; align-items:center; justify-content: space-between; margin-bottom:12px; }
.modal-actions { display:flex; gap:8px; justify-content:flex-end; margin-top:12px; }

/* Time calendar (day/week) */
.time-scroll { overflow:auto; max-height: 620px; position: relative; }
.day-headers { display:grid; border-bottom:1px solid #f1f1f1; background:#fff; }
.day-headers.week { grid-template-columns: 64px repeat(7, 1fr); }
.day-headers.day { grid-template-columns: 64px 1fr; }
.day-head-cell { padding:8px; text-align:center; font-size:11px; color:#555; border-right:1px solid #f7f7f7; }
.day-head-cell:last-child { border-right:none; }
.day-head-inner { display:flex; flex-direction:column; align-items:center; gap:2px; }
.dow { font-size:10px; color:#666; letter-spacing:.4px; font-weight:600; }
.dom { font-size:16px; color:#111; font-weight:600; }

.all-day { display:grid; grid-template-columns: 64px repeat(7, 1fr); border-bottom:1px solid #f1f1f1; background:#fff; }
.all-day.day { grid-template-columns: 64px 1fr; }
.all-day .label { display:flex; align-items:center; padding-left:8px; color:#666; font-size:12px; border-right:1px solid #f7f7f7; }
.all-day .col { min-height: 44px; padding:6px; border-right:1px solid #f9f9f9; }
.all-day .col:last-child { border-right:none; }

.time-grid { display:grid; grid-auto-rows: 1fr; position: relative; }
.time-grid.week { grid-template-columns: 64px repeat(7, 1fr); }
.time-grid.day { grid-template-columns: 64px 1fr; }
.time-labels, .time-col { position: relative; height: 1152px; /* 24 * 48px */ }
.time-labels { background:#fff; border-right:1px solid #f1f1f1; }
.time-hour { height: 48px; border-top:1px solid #f7f7f7; font-size:10px; color:#888; padding-left:8px; display:flex; align-items:flex-start; }
.time-col { background:#fff; border-right:1px solid #fafafa; cursor: crosshair; }
.time-col:last-child { border-right:none; }
.time-hour-line { position:absolute; left:0; right:0; height:1px; background:#f7f7f7; }
.task-block { position:absolute; left:6px; right:6px; min-height:22px; border:1px solid #ececec; border-radius:12px; background:#fff; padding:4px 8px 10px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; cursor:grab; }
.task-block.dragging { opacity:.85; box-shadow:0 8px 24px rgba(0,0,0,0.12); }
.task-time { font-size:11px; color:#666; margin-right:6px; }
.resize-handle { position:absolute; left:8px; right:8px; bottom:2px; height:6px; cursor: ns-resize; border-top:1px dashed #ddd; }
.time-now-line { position:absolute; left:0; right:0; height:1px; background:#111; box-shadow:0 0 0 1px #111 inset; }
.time-now-dot { position:absolute; width:8px; height:8px; border-radius:999px; background:#111; left:-4px; top:-3px; }

/* Draft selection */
.draft-block { position:absolute; left:6px; right:6px; border:1px dashed #bbb; background: rgba(0,0,0,0.04); border-radius:12px; pointer-events:none; }

/* Reward animation (minimalist, B&W) */
.reward-anim-container { position: fixed; inset: 0; pointer-events: none; z-index: 9999; }
.reward-confetti { position: absolute; background: var(--bg, #111); opacity: 0; animation: reward-burst 700ms ease-out forwards; }
@keyframes reward-burst {
  0% { opacity: 1; transform: translate(0, 0) scale(1) rotate(0deg); }
  100% { opacity: 0; transform: translate(var(--dx), var(--dy)) scale(0.9) rotate(var(--rot)); }
}